{"version":3,"sources":["components/Header/Header.jsx","components/Convert/Convert.jsx","components/Section/Section.jsx","components/App/App.jsx","index.js","components/Header/Header.module.css","components/Convert/Convert.module.css","components/Section/Section.module.css"],"names":["Header","felterBaseValue","baseValue","filter","value","ccy","className","s","currencyPosition","currencyList","map","el","currencyItem","Math","round","buy","base_ccy","Convert","selectCurrency","onChangeCurrency","amount","onChangeAmount","convertPostion","type","onChange","inputConvert","selectConvert","nanoid","Section","title","children","sectionTitle","UAH","sale","App","toAmount","fromAmount","useState","setBaseValue","firstCurrency","setFirstCurrency","secondCurrency","setSecondCurrency","exchangeValue","setExchangeValue","exchangeSecondValue","setExchangeSecondValue","amountValue","setAmountValue","amountSecondCurrency","setAmountSecondCurrency","useEffect","fetch","then","res","json","data","firstSelectCurrency","secondSelectCurrency","val","console","log","e","target","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.8f154a36.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from 'components/Header/Header.module.css';\r\n\r\n\r\n\r\nexport default function Header({ baseValue }) {\r\n\r\n  const felterBaseValue = baseValue.filter(value => value.ccy !== 'UAH');\r\n  return (\r\n    <div className={s.currencyPosition}>\r\n      <ul className={s.currencyList}>\r\n        {felterBaseValue.map(el => (\r\n          <li key={el.ccy} className={s.currencyItem}>\r\n            {el.ccy}: {Math.round(100 * el.buy) / 100} {el.base_ccy}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nHeader.propTypes = {\r\n  baseValue: PropTypes.array.isRequired,\r\n};","import React from 'react';\r\n// import PropTypes from 'prop-types';\r\nimport s from 'components/Convert/Convert.module.css';\r\n\r\n\r\n\r\nimport { nanoid } from 'nanoid';\r\n\r\nexport default function Convert({\r\n  baseValue,\r\n  selectCurrency,\r\n  onChangeCurrency,\r\n  amount,\r\n  onChangeAmount,\r\n}) {\r\n  // console.log('baseValue', baseValue);\r\n  // console.log('selectCurrency', selectCurrency);\r\n  // console.log('onChangeCurrency', onChangeCurrency);\r\n  // console.log('amount', amount);\r\n  // console.log('onChangeAmount', onChangeAmount);\r\n  return (\r\n    <div className={s.convertPostion}>\r\n      <input\r\n        type=\"number\"\r\n        value={amount}\r\n        onChange={onChangeAmount}\r\n        className={s.inputConvert}\r\n      />\r\n      <select\r\n        value={selectCurrency}\r\n        onChange={onChangeCurrency}\r\n        className={s.selectConvert}\r\n      >\r\n        {baseValue.map(value => (\r\n          <option value={value.ccy} key={nanoid()}>\r\n            {value.ccy}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Convert.propTypes = {\r\n//   baseValue: PropTypes.array.isRequired,\r\n//   selectCurrency: PropTypes.func.isRequired,\r\n//   onChangeCurrency: PropTypes.array.isRequired,\r\n//   amount: PropTypes.func.isRequired,\r\n//   onChangeAmount: PropTypes.array.isRequired,\r\n// };\r\n","import PropTypes from 'prop-types';\r\nimport s from 'components/Section/Section.module.css';\r\n\r\n\r\nfunction Section({ title, children }) {\r\n  return (\r\n    <section>\r\n      <h2 className={s.sectionTitle}>{title}</h2>\r\n      {children}\r\n    </section>\r\n  );\r\n}\r\n\r\nSection.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default Section;\r\n","import React, { useEffect, useState } from 'react';\n\nimport './App.css';\nimport Header from 'components/Header/Header';\nimport Convert from 'components/Convert/Convert';\nimport Section from 'components/Section/Section';\n\nconst BASE_URL =\n  'https://api.privatbank.ua/p24api/pubinfo?json&exchange&coursid=5';\n\nconst UAH = {\n  ccy: 'UAH',\n  buy: '1.00',\n  sale: '1.00',\n};\n\nfunction App() {\n  const [baseValue, setBaseValue] = useState([]);\n  const [firstCurrency, setFirstCurrency] = useState();\n  const [secondCurrency, setSecondCurrency] = useState();\n  const [exchangeValue, setExchangeValue] = useState();\n  const [exchangeSecondValue, setExchangeSecondValue] = useState();\n  const [amountValue, setAmountValue] = useState(1);\n  const [amountSecondCurrency, setAmountSecondCurrency] = useState(true);\n\n  useEffect(() => {\n    fetch(BASE_URL)\n      .then(res => res.json())\n      .then(data => [UAH, ...data])\n      .then(data =>\n        data.filter(\n          value =>\n            value.ccy === 'USD' || value.ccy === 'EUR' || value.ccy === 'UAH',\n        ),\n      )\n      .then(data => {\n        setBaseValue(data);\n        const firstSelectCurrency = data[1].ccy;\n        const secondSelectCurrency = data[0].ccy;\n        setFirstCurrency(firstSelectCurrency);\n        setSecondCurrency(secondSelectCurrency);\n        setExchangeValue(data[1].buy);\n        setExchangeSecondValue(data[0].buy);\n      });\n  }, []);\n\n  useEffect(() => {\n    if (firstCurrency != null) {\n      const exchangeValue = baseValue.filter(val => val.ccy === firstCurrency);\n      setExchangeValue(exchangeValue[0].buy);\n    }\n  }, [firstCurrency, baseValue]);\n\n  useEffect(() => {\n    if (secondCurrency != null) {\n      const exchangeValue = baseValue.filter(val => val.ccy === secondCurrency);\n      setExchangeSecondValue(exchangeValue[0].buy);\n    }\n  }, [secondCurrency, baseValue]);\n\n  function handleFirstChange(e) {\n    setAmountValue(e.target.value);\n    setAmountSecondCurrency(true);\n  }\n\n  function handleSecondChange(e) {\n    setAmountValue(e.target.value);\n    setAmountSecondCurrency(false);\n  }\n\n  let toAmount;\n  let fromAmount;\n\n  if (amountSecondCurrency) {\n    console.log('amountValue', amountValue);\n    fromAmount = amountValue;\n    console.log('toAmount----++', toAmount);\n    toAmount = (exchangeValue * amountValue) / exchangeSecondValue;\n    console.log(exchangeValue, amountValue, exchangeSecondValue);\n    console.log('toAmount+++', toAmount);\n    toAmount = Math.round(100 * toAmount) / 100;\n  } else {\n    toAmount = amountValue;\n    fromAmount = (exchangeSecondValue * amountValue) / exchangeValue;\n    fromAmount = Math.round(100 * fromAmount) / 100;\n  }\n  // console.log('amountValue', amountValue);\n  console.log('fromAmount', fromAmount);\n  console.log('toAmount', toAmount);\n\n  return (\n    <>\n      <Section title=\"Header\">\n        <Header baseValue={baseValue} />\n      </Section>\n      <Section title=\"Convert\">\n        <Convert\n          baseValue={baseValue}\n          selectCurrency={firstCurrency}\n          onChangeCurrency={e => setFirstCurrency(e.target.value)}\n          onChangeAmount={handleFirstChange}\n          amount={fromAmount}\n        />\n        <Convert\n          baseValue={baseValue}\n          selectCurrency={secondCurrency}\n          onChangeCurrency={e => setSecondCurrency(e.target.value)}\n          onChangeAmount={handleSecondChange}\n          amount={toAmount}\n        />\n      </Section>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport App from './components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerTittle\":\"Header_headerTittle__nlu75\",\"currencyList\":\"Header_currencyList__1Cfgk\",\"currencyPosition\":\"Header_currencyPosition__20suB\",\"currencyItem\":\"Header_currencyItem__3hToO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"convertPostion\":\"Convert_convertPostion__2dFU9\",\"inputConvert\":\"Convert_inputConvert__3KaIf\",\"selectConvert\":\"Convert_selectConvert__1qiBr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sectionTitle\":\"Section_sectionTitle__2IvFU\"};"],"sourceRoot":""}